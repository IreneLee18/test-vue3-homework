{"ast":null,"code":"import ModalMixin from '@/mixins/ModalMixin';\nexport default {\n  props: {\n    coupon: {}\n  },\n\n  data() {\n    return {\n      modal: {},\n      // tempCoupon ：編輯資料所儲存的地方\n      tempCoupon: {},\n      due_date: ''\n    };\n  },\n\n  watch: {\n    coupon() {\n      console.log('?'); // 單向數據流關係，要將外層傳進來的coupon，傳送給內層定義的tempCoupon中\n\n      this.tempCoupon = this.coupon; // 將時間格式改為 YYYY-MM-DD\n\n      console.log(this.tempCoupon.due_date);\n      const dateAndTime = new Date(this.tempCoupon.due_date).toISOString().split('T');\n      [this.due_date] = dateAndTime;\n    },\n\n    due_date() {\n      this.tempCoupon.due_date = Math.floor(new Date(this.due_date));\n    }\n\n  },\n  mixins: [ModalMixin]\n};","map":{"version":3,"mappings":"AAwEA,OAAOA,UAAP,MAAuB,qBAAvB;AACA,eAAe;EACbC,KAAK,EAAE;IACLC,MAAM,EAAE;EADH,CADM;;EAIbC,IAAG,GAAK;IACN,OAAO;MACLC,KAAK,EAAE,EADF;MAEL;MACAC,UAAU,EAAE,EAHP;MAILC,QAAQ,EAAE;IAJL,CAAP;EAMD,CAXY;;EAYbC,KAAK,EAAE;IACLL,MAAK,GAAK;MACRM,OAAO,CAACC,GAAR,CAAY,GAAZ,EADQ,CAER;;MACA,KAAKJ,UAAL,GAAkB,KAAKH,MAAvB,CAHQ,CAIR;;MACAM,OAAO,CAACC,GAAR,CAAY,KAAKJ,UAAL,CAAgBC,QAA5B;MACA,MAAMI,WAAU,GAAI,IAAIC,IAAJ,CAAS,KAAKN,UAAL,CAAgBC,QAAzB,EAAmCM,WAAnC,GAAiDC,KAAjD,CAAuD,GAAvD,CAApB;MACA,CAAC,KAAKP,QAAN,IAAkBI,WAAlB;IACD,CATI;;IAULJ,QAAO,GAAK;MACV,KAAKD,UAAL,CAAgBC,QAAhB,GAA2BQ,IAAI,CAACC,KAAL,CAAW,IAAIJ,IAAJ,CAAS,KAAKL,QAAd,CAAX,CAA3B;IACF;;EAZK,CAZM;EA0BbU,MAAM,EAAE,CAAChB,UAAD;AA1BK,CAAf","names":["ModalMixin","props","coupon","data","modal","tempCoupon","due_date","watch","console","log","dateAndTime","Date","toISOString","split","Math","floor","mixins"],"sourceRoot":"","sources":["/Users/irenelee/Desktop/vue-cli-demo/project/test1/src/components/CouponModal.vue"],"sourcesContent":["<template>\n  <div\n    class=\"modal fade\"\n    id=\"couponModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">優惠卷</h5>\n          <button type=\"button\" class=\"btn-close\"\n                  data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"mb-3\">\n            <label for=\"title\">標題</label>\n            <input type=\"text\" class=\"form-control\" id=\"title\"\n                    placeholder=\"請輸入標題\"\n                    v-model=\"tempCoupon.title\"\n                    >\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"coupon_code\">優惠碼</label>\n            <input type=\"text\" class=\"form-control\" id=\"coupon_code\"\n                    placeholder=\"請輸入優惠碼\"\n                    v-model=\"tempCoupon.code\"\n                    >\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"due_date\">到期日</label>\n            <input type=\"date\" class=\"form-control\" id=\"due_date\"\n                    v-model=\"due_date\"\n                    >\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"percent\">折扣百分比</label>\n            <input type=\"number\" class=\"form-control\" id=\"percent\"\n                    placeholder=\"請輸入折扣百分比\"\n                    v-model=\"tempCoupon.percent\"\n                    >\n          </div>\n          <div class=\"mb-3\">\n            <div class=\"form-check\">\n              <label class=\"form-check-label\" for=\"is_enabled\">\n                是否啟用\n              </label>\n              <input class=\"form-check-input\" type=\"checkbox\"\n                    id=\"is_enabled\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    checked\n                    v-model=\"tempCoupon.is_enabled\"\n                    >\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n          <button type=\"button\" class=\"btn btn-primary\"\n          @click=\"$emit('add-coupon',tempCoupon)\"\n          >確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport ModalMixin from '@/mixins/ModalMixin'\nexport default {\n  props: {\n    coupon: {}\n  },\n  data () {\n    return {\n      modal: {},\n      // tempCoupon ：編輯資料所儲存的地方\n      tempCoupon: {},\n      due_date: ''\n    }\n  },\n  watch: {\n    coupon () {\n      console.log('?')\n      // 單向數據流關係，要將外層傳進來的coupon，傳送給內層定義的tempCoupon中\n      this.tempCoupon = this.coupon\n      // 將時間格式改為 YYYY-MM-DD\n      console.log(this.tempCoupon.due_date)\n      const dateAndTime = new Date(this.tempCoupon.due_date).toISOString().split('T');\n      [this.due_date] = dateAndTime\n    },\n    due_date () {\n      this.tempCoupon.due_date = Math.floor(new Date(this.due_date))\n    }\n  },\n  mixins: [ModalMixin]\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}